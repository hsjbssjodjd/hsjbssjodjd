{
    "URL": "https://github.com/verilator/verilator/issues/4188",
    "Summary": "VL_TO_STRING_W generated from V3Common::makeVlToString is missing width parameter",
    "Description": "Thanks for taking the time to report this.\nCan you attach an example that shows the issue?  (Must be openly licensed, ideally in test_regress format.)\nI can't share the code that generated the issue nor do I understand the internals of Verilator well enough to create a simple test case. I can share that this error occurred for me when simulating a struct with many nested structs within it. The error message I got is below:\ng++ -Os  -I.  -MMD -I/usr/local/share/verilator/include -I/usr/local/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-sign-compare -Wno-uninitialized -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable -Wno-shadow       -c -o Vtop__ALL.o Vtop__ALL.cpp\nIn file included from Vtop__ALL.cpp:6:\nVtop_acrp__DepSet_h3e320eb0__0.cpp: In function 'std::string VL_TO_STRING(const Vtop_acr___05Ftm_name___05Fname___05Fin_t__struct11&)':\nVtop_acrp__DepSet_h3e320eb0__0.cpp:15:43: error: invalid user-defined conversion from 'const VlWide<8>' to 'int' [-fpermissive]\n   15 |     out += \"'{next:\" + VL_TO_STRING_W(obj.__PVT__next);\n      |                                       ~~~~^~~~~~~~~~~\nIn file included from /usr/local/share/verilator/include/verilated.h:947,\n                 from Vtop.h:11,\n                 from Vtop.cpp:4,\n                 from Vtop__ALL.cpp:3:\n/usr/local/share/verilator/include/verilated_types.h:250:5: note: candidate is: 'VlWide<T_Words>::operator WDataInP() const [with long unsigned int T_Words = 8; WDataInP = const unsigned int*; WData = unsigned int]' (near match)\n  250 |     operator WDataInP() const VL_PURE { return &m_storage[0]; }  // This also allows []\n      |     ^~~~~~~~\n/usr/local/share/verilator/include/verilated_types.h:250:5: note:   no known conversion from 'WDataInP' {aka 'const unsigned int*'} to 'int'\nIn file included from Vtop__ALL.cpp:6:\nVtop_acrp__DepSet_h3e320eb0__0.cpp:15:54: error: too few arguments to function 'std::string VL_TO_STRING_W(int, WDataInP)'\n   15 |     out += \"'{next:\" + VL_TO_STRING_W(obj.__PVT__next);\n      |                                                      ^\nIn file included from /usr/local/share/verilator/include/verilated.h:947,\n                 from Vtop.h:11,\n                 from Vtop.cpp:4,\n                 from Vtop__ALL.cpp:3:\n/usr/local/share/verilator/include/verilated_types.h:50:20: note: declared here\n   50 | extern std::string VL_TO_STRING_W(int words, const WDataInP obj);\n      | \n                   ^~~~~~~~~~~~~~\n\nWhat 'verilator --version' are you using?  Did you try it with the git master version?\nVerilator 5.010 2023-04-30 rev v5.010 which I believe is master\nWhat OS and distribution are you using?\nFedora 29\nMay we assist you in trying to fix this in Verilator yourself?\nI believe I have a fix for this which I will link as a PR"
}