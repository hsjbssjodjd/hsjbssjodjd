{
    "URL": "https://github.com/verilator/verilator/issues/2766",
    "Summary": "Modules with string ports cannot have coverage collection enabled",
    "Description": "This is very similar to issue #2741.\nI was looking at verilated.h and saw that the top-level ports will be of the basic types C-WData, string, float, double.\nIn #2745, the presence of a real (double) would break compilation, with coverage collection enabled. I wondered if float or string would also cause a problem.\nI added a shortreal and string to t_cover_toggle.v, I see that shortreal gets promoted to real so it was fixed in #2745.\nThe presence of a string will break the compilation:\nVt_cover_toggle_t.cpp:20:31: error: no match for ‘operator^’ (operand types are ‘std::__cxx11::string {aka std::__cxx11::basic_string<char>}’ and ‘std::__cxx11::string {aka std::__cxx11::basic_string<char>}’)\n     if ((vlTOPp->check_string ^ vlSymsp->TOP__t.__Vtogcov__check_string)) {\n          ~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nIn file included from /usr/include/c++/7/ios:42:0,\n                 from /usr/include/c++/7/ostream:38,\n                 from /usr/include/c++/7/iostream:39,\n                 from /home/pwright/verilator/verilator/test_regress/../include/verilated_cov.h:24,\n                 from Vt_cover_toggle.h:12,\n                 from Vt_cover_toggle.cpp:5,\n                 from Vt_cover_toggle__ALL.cpp:3:\n\n\nAdding \"!isString()\" in \"src/V3AstNodes.h\" seems to fix the issue.\n    bool isToggleCoverable() const {\n        return ((isIO() || isSignal())\n                && (isIO() || isBitLogic())\n                // Wrapper would otherwise duplicate wrapped module's coverage\n                && !isSc() && !isPrimaryIO() && !isConst() && !isDouble() && !isString());\n    }\n\n\nI'll submit a pull request."
}