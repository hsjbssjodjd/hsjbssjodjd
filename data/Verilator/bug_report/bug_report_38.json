{
    "URL": "https://github.com/verilator/verilator/issues/3745",
    "Summary": "CASEINCOMPLETE warning on unique case with enum",
    "Description": "Using the following code example (taken from https://www.edaplayground.com/x/GQ2E)\nmodule fsm(input logic X, \n           input logic reset,\n           input logic clk,\n           output logic Z\n          );\n\n  enum logic [2:0] {S0,S1,S2,S3,S4,S5} State, Next;\n  \n  always @(posedge clk or posedge reset)\n    begin\n      if ( reset==1'b1 )\n        begin\n          State <= S0;\n        end\n      else \n        begin\n         State <= Next;\n        end\n    end\n\n  always_comb begin: set_next_state\n    \n    Next = State; //default value\n    unique case ( State )\n      S0: if (X==1'b1) \n           Next = S1;\n          else\n            Next = S0;\n      \n      S1: if (X==1'b0) \n              Next = S2;\n          else if (X==1'b1)\n              Next = S1;\n      \n      S2: if (X==1'b1) \n              Next = S3;\n           else if (X==1'b0)\n              Next = S0;\n      \n      S3: if (X==1'b1) \n              Next = S4;\n           else if (X==1'b0)\n              Next = S2;\n      \n      S4: if (X==1'b0) \n              Next = S5;\n          else if (X==1'b1)\n              Next = S1;\n      \n      S5: if (X==1'b0) \n              Next = S0;\n          else if (X==1'b1)\n              Next = S3;\n      \t  \n    endcase\n  \n  end: set_next_state\n  \n  always_comb begin: set_output\n    \n    unique case ( State ) \n      S0,S1,S2,S3,S4: Z = 0;\n      S5: \n        Z = 1;\n      default:\n        Z = 1'bX;\n    endcase\n  \n    \n  end: set_output\n  \nendmodule\n\n\nand running\nverilator --lint-only  fsm.sv  --top-module fsm\nverilator issues the following warning message\n%Warning-CASEINCOMPLETE: design.sv:26:12: Case values incompletely covered (example pattern 0x6)\n   26 |     unique case ( State )\n      |            ^~~~\n                         ... For warning description see https://verilator.org/warn/CASEINCOMPLETE?v=5.003\n                         ... Use \"/* verilator lint_off CASEINCOMPLETE */\" and lint_on around source to disable this message.\n%Error: Exiting due to 1 warning(s)\n\n\nwhich in my option is not correct given that the unique case statement is used in conjunction with an enum which limits the possible values of the variable State. As a matter of fact, the example pattern 0x6 reported in the warning message is not a legal pattern as dictated by the enum.\nWhat 'verilator --version' are you using?\nVerilator 5.003 devel rev v5.002-29-g0a045a7bf\nDid you try it with the git master version?\nyes\nWhich Os are you using?\nCentos7\nMay we assist you in trying to fix this in Verilator yourself?\nYes"
}