{
    "URL": "https://github.com/verilator/verilator/issues/4231",
    "Summary": "Signal incorrectly detected as multi-driven",
    "Description": "The following code:\ninterface test_if #(parameter int AA = 2, BB=5);\n\n   logic [AA-1 : 0]     a;\n   logic [BB-1 : 0]     b;\n   logic                c;\n   logic                d;\n\n   modport slave (input  a,\n                  input  b,\n                  input  c,\n                  input  d);\n\n   modport master (output a,\n                   output b,\n                   output c,\n                   output d);\n\nendinterface : test_if\n\nmodule test\n  (input logic [28:0]  a,\n   output logic [28:0] b);\n\n   always_comb begin\n      b = a;\n   end\nendmodule\n\nmodule multi_driven\n  (\n   input logic [20-1 : 0] data_in,\n   output logic [20-1 : 0] data_out,\n   test_if.slave  test_if_in,\n   test_if.master test_if_out\n   );\n\n   test test_inst\n     (\n      .a({data_in,\n          test_if_in.a,\n          test_if_in.b,\n          test_if_in.c,\n          test_if_in.d}),\n      .b({data_out,\n          test_if_out.a,\n          test_if_out.b,\n          test_if_out.c,\n          test_if_out.d}));\n\nendmodule;\n\nGives the following warnings:\nverilator --no-timing --lint-only -Wall multi_driven.sv\n%Warning-DECLFILENAME: multi_driven.sv:1:11: Filename 'multi_driven' does not match IFACE name: 'test_if'\n    1 | interface test_if #(parameter int AA = 2, BB=5);\n      |           ^~~~~~~\n                       ... For warning description see https://verilator.org/warn/DECLFILENAME?v=5.010\n                       ... Use \"/* verilator lint_off DECLFILENAME */\" and lint_on around source to disable this message.\n%Warning-MULTIDRIVEN: multi_driven.sv:32:28: Bits [19:0] of signal 'data_out' have multiple combinational drivers\n                      multi_driven.sv:44:8: ... Location of first driver\n   44 |       .b({data_out,\n      |        ^\n                      multi_driven.sv:44:8: ... Location of other driver\n   44 |       .b({data_out,\n      |        ^\n                      multi_driven.sv:32:28: ... Only the first driver will be respected\n%Error: Exiting due to 2 warning(s)\n\nThis signal doesn't seem to be multi-driven to me and moving data_out around in the concatenation makes the warning disappear."
}