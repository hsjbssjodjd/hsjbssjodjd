{
    "URL": "https://github.com/verilator/verilator/issues/4301",
    "Summary": "Add error when DPI export multiple tasks with the same name",
    "Description": "When I want to export multiple tasks with the same name, the generated code is compiled incorrectly.I'm using the 5.012 tag version. I remember the previous version didn't report errors.\nThe following is an example:\nmodule sub1;\n   reg  [127:0] data [7:0];\n\n   export \"DPI-C\" task write_data;\n   task write_data;\n   input [2:0] iA;\n   input [127:0] iD;\n   begin\n      data[iA] = iD;\n   end\n   endtask\n\nendmodule\n\nmodule sub2;\n   reg  [31:0] data [7:0];\n\n   export \"DPI-C\" task write_data;\n   task write_data;\n   input [2:0] iA;\n   input [31:0] iD;\n   begin\n      data[iA] = iD;\n   end\n   endtask\n   \nendmodule\n\nmodule top;\n\n   sub1 u_sub1();\n   sub2 u_sub2();\n\n   initial begin\n      $display(\"Hello World!\");\n      $finish;\n   end\n\nendmodule\nThe generated code is as follows:\n// Verilated -*- C++ -*-\n// DESCRIPTION: Verilator output: Symbol table internal header\n//\n// Internal details; most calling programs do not need this header,\n// unless using verilator public meta comments.\n\n#ifndef VERILATED_VTOP__SYMS_H_\n#define VERILATED_VTOP__SYMS_H_  // guard\n\n#include \"verilated.h\"\n\n// INCLUDE MODEL CLASS\n\n#include \"Vtop.h\"\n\n// INCLUDE MODULE CLASSES\n#include \"Vtop___024root.h\"\n\n// DPI TYPES for DPI Export callbacks (Internal use)\nusing Vtop__Vcb_write_data_t = void (*) (Vtop__Syms* __restrict vlSymsp, CData/*2:0*/ iA, IData/*31:0*/ iD);\nusing Vtop__Vcb_write_data_t = void (*) (Vtop__Syms* __restrict vlSymsp, CData/*2:0*/ iA, VlWide<4>/*127:0*/ iD);\n\n// SYMS CLASS (contains all model state)\nclass Vtop__Syms final : public VerilatedSyms {\n  public:\n    // INTERNAL STATE\n    Vtop* const __Vm_modelp;\n    bool __Vm_didInit = false;\n\n    // MODULE INSTANCE STATE\n    Vtop___024root                 TOP;\n\n    // SCOPE NAMES\n    VerilatedScope __Vscope_top__u_sub1;\n    VerilatedScope __Vscope_top__u_sub2;\n\n    // CONSTRUCTORS\n    Vtop__Syms(VerilatedContext* contextp, const char* namep, Vtop* modelp);\n    ~Vtop__Syms();\n\n    // METHODS\n    const char* name() { return TOP.name(); }\n} VL_ATTR_ALIGNED(VL_CACHE_LINE_BYTES);\n\n#endif  // guard\n\nThe compile error is as follows:\nVtop__Syms.h:21:7: error: conflicting declaration ‘using Vtop__Vcb_write_data_t = void (*)(class Vtop__Syms*, using CData = uint8_t, struct VlWide<4>)’\n   21 | using Vtop__Vcb_write_data_t = void (*) (Vtop__Syms* __restrict vlSymsp, CData/*2:0*/ iA, VlWide<4>/*127:0*/ iD);\n      |       ^~~~~~~~~~~~~~~~~~~~~~\nVtop__Syms.h:20:7: note: previous declaration as ‘using Vtop__Vcb_write_data_t = void (*)(class Vtop__Syms*, using CData = uint8_t, using IData = uint32_t)’\n   20 | using Vtop__Vcb_write_data_t = void (*) (Vtop__Syms* __restrict vlSymsp, CData/*2:0*/ iA, IData/*31:0*/ iD);\n      |       ^~~~~~~~~~~~~~~~~~~~~~"
}